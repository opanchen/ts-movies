{"version":3,"file":"static/js/299.a60e775e.chunk.js","mappings":"wNACA,EAA0B,sBAA1B,EAA0D,sB,oBCwE1D,EA9CuB,WACrB,IAAAA,GAA4BC,EAAAA,EAAAA,UAAyB,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAnDI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GACxBI,GAA0BL,EAAAA,EAAAA,UAAoB,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA5CE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAkCT,EAAAA,EAAAA,WAAkB,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAnDE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACtBG,GAASC,EAAAA,EAAAA,MAATD,MAERE,EAAAA,EAAAA,YAAU,WAAO,IAADC,GACC,YAAAA,EAAAA,IAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAGK,OAHLF,EAAAC,KAAA,EAEdhB,EAAS,MACTI,GAAa,GAAMW,EAAAE,KAAA,EAEAC,EAAAA,EAAUC,YAAY,CAAEC,SAAUf,IAAQ,KAAD,GAAtDQ,EAAIE,EAAAM,OACAzB,EAAc,OAAJiB,QAAI,IAAJA,OAAI,EAAJA,EAAMS,SAE1BP,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAQ,GAAAR,EAAA,SAEAS,QAAQC,IAAGV,EAAAQ,IAKXvB,EAHW,UAATK,EACI,mDACA,+RACiB,QAEH,OAFGU,EAAAC,KAAA,GAEvBZ,GAAa,GAAOW,EAAAW,OAAA,6BAAAX,EAAAY,OAAA,GAAAf,EAAA,yBAEvBgB,MAAA,KAAAC,UAAA,CAEDC,EACF,GAAG,CAACzB,IAEJ,IAAM0B,EACK,UAAT1B,EAAmB,iBAAmB,8FAExC,OACE2B,EAAAA,EAAAA,KAAA,WAASC,UAAWC,EAAYC,UAC9BC,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAAF,SAAA,EACRH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAYC,SAAEJ,IAC5B5B,IAAa6B,EAAAA,EAAAA,KAACM,EAAAA,GAAO,IACrBvC,IAASiC,EAAAA,EAAAA,KAACO,EAAAA,GAAY,CAACC,KAAK,QAAQC,QAAS1C,IAC7CJ,IAAUqC,EAAAA,EAAAA,KAACU,EAAAA,GAAS,CAAC/C,OAAQA,QAItC,C","sources":["webpack://ts-movies/./src/pages/Home/Home.module.css?1370","pages/Home/Home.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Home_section__uZuiO\",\"heading\":\"Home_heading__-DhKF\"};","import { useEffect, useState } from \"react\";\nimport { Container, FallbackView, MovieList, Spinner } from \"src/components\";\nimport { moviesAPI } from \"src/services/moviesAPI\";\nimport css from \"./Home.module.css\";\nimport { useLangState } from \"src/hooks\";\n\ntype MovieType = {\n  title: string;\n  original_title: string;\n  overview: string;\n  backdrop_path: string;\n  poster_path: string;\n  release_date: string;\n  id: number;\n  media_type: string;\n  original_language: string;\n  popularity: number;\n  vote_average: number;\n  vote_count: number;\n  genre_ids: number[];\n  [key: string]: unknown;\n};\n\ntype MoviesTrending = MovieType[] | null;\n\ntype ErrorType = any | null;\n\nconst Home: React.FC = () => {\n  const [movies, setMovies] = useState<MoviesTrending>(null);\n  const [error, setError] = useState<ErrorType>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const { lang } = useLangState();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setError(null);\n        setIsLoading(true);\n\n        const data = await moviesAPI.getTrending({ language: lang });\n        if (data) setMovies(data?.results);\n\n        // console.log(data);\n      } catch (error) {\n        console.log(error);\n        const errorMessage: string =\n          lang === \"en-US\"\n            ? \"Something went wrong... Please, try again later.\"\n            : \"Щось пішло не так... Будь ласка, повторіть спробу пізніше.\";\n        setError(errorMessage);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [lang]);\n\n  const headingTextContent: string =\n    lang === \"en-US\" ? \"Popular movies\" : \"Популярні фільми\";\n\n  return (\n    <section className={css.section}>\n      <Container>\n        <h1 className={css.heading}>{headingTextContent}</h1>\n        {isLoading && <Spinner />}\n        {error && <FallbackView type=\"error\" message={error} />}\n        {movies && <MovieList movies={movies} />}\n      </Container>\n    </section>\n  );\n};\n\nexport default Home;\n"],"names":["_useState","useState","_useState2","_slicedToArray","movies","setMovies","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","lang","useLangState","useEffect","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","moviesAPI","getTrending","language","sent","results","t0","console","log","finish","stop","apply","arguments","fetchData","headingTextContent","_jsx","className","css","children","_jsxs","Container","Spinner","FallbackView","type","message","MovieList"],"sourceRoot":""}