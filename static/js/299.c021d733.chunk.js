"use strict";(self.webpackChunkts_movies=self.webpackChunkts_movies||[]).push([[299],{6299:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(4165),a=t(3433),s=t(5861),c=t(9439),i=t(2791),u=t(4270),o=t(6267),l=t(5493),f=t(8078),h="Home_section__uZuiO",p="Home_heading__-DhKF",d=t(3329),g=function(){var e=(0,i.useState)([]),n=(0,c.Z)(e,2),t=n[0],g=n[1],x=(0,i.useState)(null),v=(0,c.Z)(x,2),m=v[0],Z=v[1],w=(0,i.useState)(!1),k=(0,c.Z)(w,2),j=k[0],S=k[1],_=(0,i.useState)(1),b=(0,c.Z)(_,2),y=b[0],F=b[1],T=(0,i.useState)(0),U=(0,c.Z)(T,2),C=U[0],E=U[1],H=(0,f.k3)().lang,P=(0,i.useRef)(!1);(0,i.useEffect)((function(){var e,n;!1===P.current?function(){(e=e||(0,s.Z)((0,r.Z)().mark((function e(){var n,t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,Z(null),S(!0),n=[],t=0;case 5:if(!(t<y)){e.next=15;break}return e.next=8,l.G.getTrending({language:H,page:t+1});case 8:if(s=e.sent){e.next=11;break}throw new Error("There is no fetched data.");case 11:n.push.apply(n,(0,a.Z)(s.results));case 12:t+=1,e.next=5;break;case 15:g((function(e){return 0===e.length?n:e.map((function(e){var t=n.find((function(n){return n.id===e.id}));return t||e}))})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),Z("en-US"===H?"Something went wrong... Please, try again later.":"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443 \u043f\u0456\u0437\u043d\u0456\u0448\u0435.");case 23:return e.prev=23,S(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,18,23,26]])})))).apply(this,arguments)}():function(){(n=n||(0,s.Z)((0,r.Z)().mark((function e(){var n,t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Z(null),S(!0),e.next=5,l.G.getTrending({language:H,page:y});case 5:if(n=e.sent){e.next=8;break}throw new Error("There is no fetched data.");case 8:t=n.results,s=n.total_pages,g((function(e){var n=t.filter((function(n){return-1===e.map((function(e){return e.id})).indexOf(n.id)}));return[].concat((0,a.Z)(e),(0,a.Z)(n))})),C!==s&&E(C),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),Z("en-US"===H?"Something went wrong... Please, try again later.":"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443 \u043f\u0456\u0437\u043d\u0456\u0448\u0435.");case 18:return e.prev=18,S(!1),P.current=!1,e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[0,13,18,22]])})))).apply(this,arguments)}()}),[H,y,C]);var G="en-US"===H?"Popular movies":"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0444\u0456\u043b\u044c\u043c\u0438";return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.q,{children:(0,d.jsx)("title",{children:"en-US"===H?"Home":"\u0413\u043e\u043b\u043e\u0432\u043d\u0430"})}),(0,d.jsx)("section",{className:h,children:(0,d.jsxs)(o.W2,{children:[(0,d.jsx)("h1",{className:p,children:G}),j&&(0,d.jsx)(o.$j,{}),m&&(0,d.jsx)(o.d2,{type:"error",message:m}),!m&&t.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(o.eW,{movies:t}),y!==C&&(0,d.jsx)(o.CF,{onLoadMore:function(){P.current=!0,F((function(e){return e+1}))},isLoading:j})]})]})})]})}}}]);
//# sourceMappingURL=299.c021d733.chunk.js.map