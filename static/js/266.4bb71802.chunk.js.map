{"version":3,"file":"static/js/266.4bb71802.chunk.js","mappings":"oMACA,EAA0B,4BAA1B,EAAgE,4B,oBC4DhE,EAlD6B,WAC3B,IAAQA,GAASC,EAAAA,EAAAA,MAATD,KACRE,GAAwBC,EAAAA,EAAAA,UAAiB,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAApCI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GAEdI,GAAWC,EAAAA,EAAAA,IAAeC,EAAAA,IAC1BC,GAAWF,EAAAA,EAAAA,IAAeG,EAAAA,IAC1BC,EAAkB,UAATb,EAAmBQ,EAAWG,EAIvCG,EAAqBC,KAAKC,KAAKH,EAAOI,OADpB,IAGlBC,GAAiBC,EAAAA,EAAAA,UAAQ,WAC7B,IACMC,EALgB,GAKJd,EAAiB,EACnC,OAAOO,EAAOQ,MAFK,EAEaD,EAAY,EAC9C,GAAG,CAACP,EAAQP,IAONgB,EACK,UAATtB,EAAmB,kBAAoB,wFAEnCuB,EACK,UAATvB,EACI,iGACA,wiBAEN,OACEwB,EAAAA,EAAAA,KAAA,WAASC,UAAWC,EAAYC,UAC9BC,EAAAA,EAAAA,MAACC,EAAAA,GAAS,CAAAF,SAAA,EACRH,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAYC,SAAEL,IAC5BT,EAAOI,OAAS,GACfW,EAAAA,EAAAA,MAAAE,EAAAA,SAAA,CAAAH,SAAA,EACEH,EAAAA,EAAAA,KAACO,EAAAA,GAAS,CAAClB,OAAQK,IAClBZ,IAASQ,IACRU,EAAAA,EAAAA,KAACQ,EAAAA,GAAW,CAACC,WApBF,WACrB1B,GAAQ,SAAC2B,GAAQ,OAAKA,EAAW,CAAC,GACpC,EAkBqDC,WAAW,QAIxDX,EAAAA,EAAAA,KAACY,EAAAA,GAAY,CAACC,KAAK,OAAOC,QAASf,QAK7C,C","sources":["webpack://ts-movies/./src/pages/Collection/Collection.module.css?64f4","pages/Collection/Collection.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Collection_section__xV880\",\"heading\":\"Collection_heading__WEscm\"};","import { useAppSelector, useLangState } from \"src/hooks\";\nimport { selectCollectionEn, selectCollectionUk } from \"src/redux/selectors\";\nimport {\n  Container,\n  FallbackView,\n  LoadMoreBtn,\n  MovieList,\n} from \"src/components\";\nimport css from \"./Collection.module.css\";\nimport { useMemo, useState } from \"react\";\n\nconst Collection: React.FC = () => {\n  const { lang } = useLangState();\n  const [page, setPage] = useState<number>(1);\n\n  const moviesEn = useAppSelector(selectCollectionEn);\n  const moviesUk = useAppSelector(selectCollectionUk);\n  const movies = lang === \"en-US\" ? moviesEn : moviesUk;\n  //   console.log(\"EN Collection: \", movies);\n\n  const perPage: number = 20;\n  const totalPages: number = Math.ceil(movies.length / perPage);\n\n  const filteredMovies = useMemo(() => {\n    const firstIndex = 0;\n    const lastIndex = page * perPage - 1;\n    return movies.slice(firstIndex, lastIndex + 1);\n  }, [movies, page]);\n  // console.log(\"first index: \", firstIndex);\n\n  const handleLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const headingTextContent: string =\n    lang === \"en-US\" ? \"Favorite movies\" : \"Улюблені фільми\";\n\n  const errorMessage: string =\n    lang === \"en-US\"\n      ? \"There are no movies yet. Go to another page and choose some movies to complete the collection.\"\n      : \"Збережені фільми відсутні. Відвідайте іншу сторінку та оберіть декілька фільмів, щоб поповнити колекцію.\";\n\n  return (\n    <section className={css.section}>\n      <Container>\n        <h1 className={css.heading}>{headingTextContent}</h1>\n        {movies.length > 0 ? (\n          <>\n            <MovieList movies={filteredMovies} />\n            {page !== totalPages && (\n              <LoadMoreBtn onLoadMore={handleLoadMore} isLoading={false} />\n            )}\n          </>\n        ) : (\n          <FallbackView type=\"init\" message={errorMessage} />\n        )}\n      </Container>\n    </section>\n  );\n};\n\nexport default Collection;\n"],"names":["lang","useLangState","_useState","useState","_useState2","_slicedToArray","page","setPage","moviesEn","useAppSelector","selectCollectionEn","moviesUk","selectCollectionUk","movies","totalPages","Math","ceil","length","filteredMovies","useMemo","lastIndex","slice","headingTextContent","errorMessage","_jsx","className","css","children","_jsxs","Container","_Fragment","MovieList","LoadMoreBtn","onLoadMore","prevPage","isLoading","FallbackView","type","message"],"sourceRoot":""}