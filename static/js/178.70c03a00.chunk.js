"use strict";(self.webpackChunkts_movies=self.webpackChunkts_movies||[]).push([[178],{4178:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var s=n(4165),r=n(3433),a=n(5861),u=n(9439),i=n(2791),c=n(1087),o=n(8078),l=n(5493),f=n(7455),h=n(8174),d="Movies_section__bjPDA",v="Movies_form-wrapper__YIIZB",g=n(3329),m=function(){var e=(0,i.useState)([]),t=(0,u.Z)(e,2),n=t[0],m=t[1],p=(0,i.useState)(!1),x=(0,u.Z)(p,2),y=x[0],S=x[1],j=(0,i.useState)(null),Z=(0,u.Z)(j,2),_=Z[0],w=Z[1],b=(0,o.k3)().lang,k=(0,c.lr)(),q=(0,u.Z)(k,2),U=q[0],M=q[1],N=U.get("query"),C=(0,i.useState)(1),I=(0,u.Z)(C,2),P=I[0],A=I[1],B=(0,i.useState)(0),E=(0,u.Z)(B,2),F=E[0],L=E[1],W=(0,i.useState)(0),D=(0,u.Z)(W,2),G=D[0],O=D[1];(0,i.useEffect)((function(){var e;if(N){!function(){(e=e||(0,a.Z)((0,s.Z)().mark((function e(){var t,n,a,u,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,l.G.getMoviesByQuery({query:N,language:b,page:P});case 4:if((t=e.sent)&&0!==t.results.length){e.next=9;break}return w("en-US"===b?"Movies with this query weren't found. Please enter valid query and try again!":"\u0424\u0456\u043b\u044c\u043c\u0456\u0432 \u0437\u0430 \u0434\u0430\u043d\u0438\u043c \u0437\u0430\u043f\u0438\u0442\u043e\u043c \u043d\u0435 \u0437\u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u0432\u0432\u0435\u0434\u0456\u0442\u044c \u0432\u0430\u043b\u0456\u0434\u043d\u0438\u0439 \u0437\u0430\u043f\u0438\u0442 \u0442\u0430 \u0441\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0437\u043d\u043e\u0432\u0443!"),e.abrupt("return");case 9:n=t.results,a=t.total_pages,u=t.total_results,m((function(e){var t=n.filter((function(t){return-1===e.map((function(e){return e.id})).indexOf(t.id)}));return[].concat((0,r.Z)(e),(0,r.Z)(t))})),F!==a&&L(a),G!==u&&(i="en-US"===b?"Number of successful search results: ".concat(u,"!"):"\u041a\u0456\u043b\u044c\u043a\u0456\u0441\u0442\u044c \u0443\u0441\u043f\u0456\u0448\u043d\u0438\u0445 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0456\u0432 \u043f\u043e\u0448\u0443\u043a\u0443: ".concat(u,"!"),h.Am.success(i),O(u)),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0),w("en-US"===b?"Something went wrong. Please try again later!":"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443 \u043f\u0456\u0437\u043d\u0456\u0448\u0435!");case 20:return e.prev=20,S(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,15,20,23]])})))).apply(this,arguments)}()}}),[b,P,N,F,G]);var Q="en-US"===b?"There are no movies yet. Enter your query to find some...":"\u041d\u0430\u0440\u0430\u0437\u0456 \u0444\u0456\u043b\u044c\u043c\u0438 \u0432\u0456\u0434\u0441\u0443\u0442\u043d\u0456. \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0412\u0430\u0448 \u0437\u0430\u043f\u0438\u0442 \u0434\u043b\u044f \u043f\u043e\u0448\u0443\u043a\u0443...";return(0,g.jsx)("section",{className:d,children:(0,g.jsxs)(f.W2,{children:[(0,g.jsx)("h1",{className:"visually-hidden",children:"en-US"===b?"Search movies":"\u041f\u043e\u0448\u0443\u043a \u0444\u0456\u043b\u044c\u043c\u0456\u0432"}),(0,g.jsx)("div",{className:v,children:(0,g.jsx)(f.UI,{onSubmit:function(e){m([]),A(1),L(0),O(0),w(null),M({query:e})}})}),y&&(0,g.jsx)(f.$j,{}),_&&(0,g.jsx)(f.d2,{type:"error",message:_}),!_&&0===n.length&&(0,g.jsx)(f.d2,{type:"init",message:Q}),!_&&n.length>0&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.eW,{movies:n}),P!==F&&(0,g.jsx)(f.CF,{onLoadMore:function(){A((function(e){return e+1}))},isLoading:y})]})]})})}}}]);
//# sourceMappingURL=178.70c03a00.chunk.js.map