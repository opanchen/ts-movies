"use strict";(self.webpackChunkts_movies=self.webpackChunkts_movies||[]).push([[178],{4178:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var r=s(4165),n=s(5861),a=s(9439),i=s(2791),u=s(1087),o=s(4218),c=s(5493),l="Movies_section__bjPDA",h="Movies_form-wrapper__YIIZB",f=s(184),v=function(){var e=(0,i.useState)([]),t=(0,a.Z)(e,2),s=t[0],v=t[1],d=(0,i.useState)(!1),p=(0,a.Z)(d,2),m=p[0],y=p[1],x=(0,i.useState)(null),g=(0,a.Z)(x,2),j=g[0],w=g[1],Z=(0,u.lr)(),_=(0,a.Z)(Z,2),b=_[0],k=_[1],S=b.get("query");return(0,i.useEffect)((function(){var e;if(S){!function(){(e=e||(0,n.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,c.G.getMoviesByQuery(S);case 4:if((t=e.sent)&&0!==t.results.length){e.next=8;break}return w("Movies with this query weren't found. Please enter valid query and try again!"),e.abrupt("return");case 8:v(t.results),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0),w("Something went wrong. Please try again later!");case 15:return e.prev=15,y(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[1,11,15,18]])})))).apply(this,arguments)}()}}),[S]),(0,f.jsx)("section",{className:l,children:(0,f.jsxs)(o.W2,{children:[(0,f.jsx)("h1",{className:"visually-hidden",children:"Search movies"}),(0,f.jsx)("div",{className:h,children:(0,f.jsx)(o.UI,{onSubmit:function(e){w(null),k({query:e})}})}),m&&(0,f.jsx)(o.$j,{}),j&&(0,f.jsx)(o.d2,{type:"error",message:j}),!j&&0===s.length&&(0,f.jsx)(o.d2,{type:"init",message:"There are no movies yet. Enter your query to find some..."}),!j&&0!==s.length&&(0,f.jsx)(o.eW,{movies:s})]})})}}}]);
//# sourceMappingURL=178.fac98542.chunk.js.map