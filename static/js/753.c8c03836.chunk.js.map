{"version":3,"file":"static/js/753.c8c03836.chunk.js","mappings":"0QACA,EAA0B,8BAA1B,EAAkE,8B,UCwFlE,EAtE+B,WAC7B,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACRE,GAA0BC,EAAAA,EAAAA,UAAkC,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA1DI,EAAKF,EAAA,GAAEG,EAAQH,EAAA,GACtBI,GAA0BL,EAAAA,EAAAA,UAAwB,MAAKM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAhDE,EAAKD,EAAA,GAAEE,EAAQF,EAAA,GACtBG,GAAkCT,EAAAA,EAAAA,WAAkB,GAAMU,GAAAR,EAAAA,EAAAA,GAAAO,EAAA,GAAnDE,EAASD,EAAA,GAAEE,EAAYF,EAAA,GACtBG,GAASC,EAAAA,EAAAA,MAATD,KAEFE,GAAaC,EAAAA,EAAAA,IAAeC,EAAAA,IAC5BC,GAAcC,EAAAA,EAAAA,IAAiB,CAAEC,GAAIvB,EAASwB,IAAKN,IAkCzD,OAhCAO,EAAAA,EAAAA,YAAU,WAAO,IAADC,EACd,GAAK1B,EAAL,EAEe,YAAA0B,EAAAA,IAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAAA,EAAAA,KAAAI,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACG,OAAnBpB,GAAa,GAAMkB,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAGEC,EAAAA,EAAUC,WAAW,CACtCd,GAAIvB,EACJsC,SAAUtB,IACT,KAAD,EAHQ,GAAJe,EAAIE,EAAAM,KAKA,CAADN,EAAAE,KAAA,cACD,IAAIK,MAAM,qBAAqB,KAAD,EAGtCjC,EAASwB,GAAME,EAAAE,KAAA,iBAAAF,EAAAC,KAAA,GAAAD,EAAAQ,GAAAR,EAAA,SAEfS,QAAQC,IAAGV,EAAAQ,IAKX9B,EAHW,UAATK,EACI,gDACA,+RACiB,QAEH,OAFGiB,EAAAC,KAAA,GAEvBnB,GAAa,GAAOkB,EAAAW,OAAA,6BAAAX,EAAAY,OAAA,GAAAf,EAAA,0BAEvBgB,MAAA,KAAAC,UAAA,CAEDC,EA5BoB,CA6BtB,GAAG,CAAChC,EAAMhB,KAGRiD,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,SAAiB,UAATnC,EAAmB,gBAAkB,iFAG/CiC,EAAAA,EAAAA,MAAA,OAAKK,UAAWC,EAAYJ,SAAA,EAC1BC,EAAAA,EAAAA,KAACI,EAAAA,GAAS,CAAAL,UACRF,EAAAA,EAAAA,MAAA,OAAKK,UAAWC,EAAeJ,SAAA,EAC7BC,EAAAA,EAAAA,KAACK,EAAAA,GAAW,KACV/C,GAASV,GAAWM,IACpB8C,EAAAA,EAAAA,KAACM,EAAAA,GAAU,CAACnC,GAAIvB,EAASqB,YAAaA,SAI3CP,IAAasC,EAAAA,EAAAA,KAACO,EAAAA,GAAO,IACrBjD,IAAS0C,EAAAA,EAAAA,KAACQ,EAAAA,GAAY,CAACC,KAAK,QAAQC,QAASpD,KAC5CA,GAASJ,IACT2C,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACW,EAAAA,GAAY,CAACzD,MAAOA,KACrB8C,EAAAA,EAAAA,KAACY,EAAAA,GAAc,YAM3B,C","sources":["webpack://ts-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieDetails_wrapper__YMWLn\",\"btn-bar\":\"MovieDetails_btn-bar__KmENz\"};","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { selectCollectionEn } from \"src/redux/selectors\";\nimport { isMovieCollected } from \"src/helpers\";\nimport { useAppSelector, useLangState } from \"src/hooks\";\nimport { moviesAPI } from \"src/services/moviesAPI\";\nimport { Helmet } from \"react-helmet\";\nimport {\n  BackLinkBtn,\n  CollectBnt,\n  Container,\n  FallbackView,\n  MovieArticle,\n  MovieExtraInfo,\n  Spinner,\n} from \"src/components\";\nimport type { MovieDetailsType } from \"src/types\";\nimport css from \"./MovieDetails.module.css\";\n\nconst MovieDetails: React.FC = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState<MovieDetailsType | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const { lang } = useLangState();\n\n  const collection = useAppSelector(selectCollectionEn);\n  const isCollected = isMovieCollected({ id: movieId, arr: collection });\n\n  useEffect(() => {\n    if (!movieId) return;\n\n    const fetchData = async () => {\n      setIsLoading(true);\n\n      try {\n        const data = await moviesAPI.getDetails({\n          id: movieId,\n          language: lang,\n        });\n\n        if (!data) {\n          throw new Error(\"There is no data.\");\n        }\n\n        setMovie(data);\n      } catch (error) {\n        console.log(error);\n        const errorMessage =\n          lang === \"en-US\"\n            ? \"Something went wrong. Please try again later!\"\n            : \"Щось пішло не так... Будь ласка, повторіть спробу пізніше!\";\n        setError(errorMessage);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [lang, movieId]);\n\n  return (\n    <>\n      <Helmet>\n        <title>{lang === \"en-US\" ? \"Movie details\" : \"Деталі фільму\"}</title>\n      </Helmet>\n\n      <div className={css.wrapper}>\n        <Container>\n          <div className={css[\"btn-bar\"]}>\n            <BackLinkBtn />\n            {!error && movieId && movie && (\n              <CollectBnt id={movieId} isCollected={isCollected} />\n            )}\n          </div>\n        </Container>\n        {isLoading && <Spinner />}\n        {error && <FallbackView type=\"error\" message={error} />}\n        {!error && movie && (\n          <>\n            <MovieArticle movie={movie} />\n            <MovieExtraInfo />\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["movieId","useParams","_useState","useState","_useState2","_slicedToArray","movie","setMovie","_useState3","_useState4","error","setError","_useState5","_useState6","isLoading","setIsLoading","lang","useLangState","collection","useAppSelector","selectCollectionEn","isCollected","isMovieCollected","id","arr","useEffect","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_context","prev","next","moviesAPI","getDetails","language","sent","Error","t0","console","log","finish","stop","apply","arguments","fetchData","_jsxs","_Fragment","children","_jsx","Helmet","className","css","Container","BackLinkBtn","CollectBnt","Spinner","FallbackView","type","message","MovieArticle","MovieExtraInfo"],"sourceRoot":""}