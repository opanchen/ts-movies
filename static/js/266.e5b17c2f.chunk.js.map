{"version":3,"file":"static/js/266.e5b17c2f.chunk.js","mappings":"wNACA,EAA0B,4BAA1B,EAAgE,4B,UCmEhE,EAxD6B,WAC3B,IAAQA,GAASC,EAAAA,EAAAA,MAATD,KACRE,GAAwBC,EAAAA,EAAAA,UAAiB,GAAEC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAApCI,EAAIF,EAAA,GAAEG,EAAOH,EAAA,GAEdI,GAAWC,EAAAA,EAAAA,IAAeC,EAAAA,IAC1BC,GAAWF,EAAAA,EAAAA,IAAeG,EAAAA,IAC1BC,EAAkB,UAATb,EAAmBQ,EAAWG,EAIvCG,EAAqBC,KAAKC,KAAKH,EAAOI,OADpB,IAGlBC,GAAiBC,EAAAA,EAAAA,UAAQ,WAC7B,IACMC,EALgB,GAKJd,EAAiB,EACnC,OAAOO,EAAOQ,MAFK,EAEaD,EAAY,EAC9C,GAAG,CAACP,EAAQP,IAONgB,EACK,UAATtB,EAAmB,kBAAoB,wFAEnCuB,EACK,UAATvB,EACI,iGACA,wiBAEN,OACEwB,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,CAAAF,UACLC,EAAAA,EAAAA,KAAA,SAAAD,SAAiB,UAAT1B,EAAmB,aAAe,wDAG5C2B,EAAAA,EAAAA,KAAA,WAASE,UAAWC,EAAYJ,UAC9BF,EAAAA,EAAAA,MAACO,EAAAA,GAAS,CAAAL,SAAA,EACRC,EAAAA,EAAAA,KAAA,MAAIE,UAAWC,EAAYJ,SAAEJ,IAC5BT,EAAOI,OAAS,GACfO,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEC,EAAAA,EAAAA,KAACK,EAAAA,GAAS,CAACnB,OAAQK,IAClBZ,IAASQ,IACRa,EAAAA,EAAAA,KAACM,EAAAA,GAAW,CAACC,WAzBJ,WACrB3B,GAAQ,SAAC4B,GAAQ,OAAKA,EAAW,CAAC,GACpC,EAuBuDC,WAAW,QAIxDT,EAAAA,EAAAA,KAACU,EAAAA,GAAY,CAACC,KAAK,OAAOC,QAAShB,WAM/C,C","sources":["webpack://ts-movies/./src/pages/Collection/Collection.module.css?64f4","pages/Collection/Collection.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"section\":\"Collection_section__xV880\",\"heading\":\"Collection_heading__WEscm\"};","import { useAppSelector, useLangState } from \"src/hooks\";\nimport { selectCollectionEn, selectCollectionUk } from \"src/redux/selectors\";\nimport { useMemo, useState } from \"react\";\nimport { Helmet } from \"react-helmet\";\nimport {\n  Container,\n  FallbackView,\n  LoadMoreBtn,\n  MovieList,\n} from \"src/components\";\nimport css from \"./Collection.module.css\";\n\nconst Collection: React.FC = () => {\n  const { lang } = useLangState();\n  const [page, setPage] = useState<number>(1);\n\n  const moviesEn = useAppSelector(selectCollectionEn);\n  const moviesUk = useAppSelector(selectCollectionUk);\n  const movies = lang === \"en-US\" ? moviesEn : moviesUk;\n  //   console.log(\"EN Collection: \", movies);\n\n  const perPage: number = 20;\n  const totalPages: number = Math.ceil(movies.length / perPage);\n\n  const filteredMovies = useMemo(() => {\n    const firstIndex = 0;\n    const lastIndex = page * perPage - 1;\n    return movies.slice(firstIndex, lastIndex + 1);\n  }, [movies, page]);\n  // console.log(\"first index: \", firstIndex);\n\n  const handleLoadMore = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const headingTextContent: string =\n    lang === \"en-US\" ? \"Favorite movies\" : \"Улюблені фільми\";\n\n  const errorMessage: string =\n    lang === \"en-US\"\n      ? \"There are no movies yet. Go to another page and choose some movies to complete the collection.\"\n      : \"Збережені фільми відсутні. Відвідайте іншу сторінку та оберіть декілька фільмів, щоб поповнити колекцію.\";\n\n  return (\n    <>\n      <Helmet>\n        <title>{lang === \"en-US\" ? \"Collection\" : \"Колекція\"}</title>\n      </Helmet>\n\n      <section className={css.section}>\n        <Container>\n          <h1 className={css.heading}>{headingTextContent}</h1>\n          {movies.length > 0 ? (\n            <>\n              <MovieList movies={filteredMovies} />\n              {page !== totalPages && (\n                <LoadMoreBtn onLoadMore={handleLoadMore} isLoading={false} />\n              )}\n            </>\n          ) : (\n            <FallbackView type=\"init\" message={errorMessage} />\n          )}\n        </Container>\n      </section>\n    </>\n  );\n};\n\nexport default Collection;\n"],"names":["lang","useLangState","_useState","useState","_useState2","_slicedToArray","page","setPage","moviesEn","useAppSelector","selectCollectionEn","moviesUk","selectCollectionUk","movies","totalPages","Math","ceil","length","filteredMovies","useMemo","lastIndex","slice","headingTextContent","errorMessage","_jsxs","_Fragment","children","_jsx","Helmet","className","css","Container","MovieList","LoadMoreBtn","onLoadMore","prevPage","isLoading","FallbackView","type","message"],"sourceRoot":""}