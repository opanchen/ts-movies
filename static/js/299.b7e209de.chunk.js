"use strict";(self.webpackChunkts_movies=self.webpackChunkts_movies||[]).push([[299],{6299:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(4165),a=t(3433),s=t(5861),u=t(9439),c=t(2791),i=t(6222),o=t(5493),l=t(8078),f="Home_section__uZuiO",h="Home_heading__-DhKF",p=t(3329),g=function(){var e=(0,c.useState)([]),n=(0,u.Z)(e,2),t=n[0],g=n[1],d=(0,c.useState)(null),v=(0,u.Z)(d,2),x=v[0],m=v[1],Z=(0,c.useState)(!1),w=(0,u.Z)(Z,2),k=w[0],S=w[1],j=(0,c.useState)(1),_=(0,u.Z)(j,2),b=_[0],y=_[1],T=(0,c.useState)(0),C=(0,u.Z)(T,2),E=C[0],F=C[1],P=(0,l.k3)().lang,U=(0,c.useRef)(!1);(0,c.useEffect)((function(){var e,n;!1===U.current?function(){(e=e||(0,s.Z)((0,r.Z)().mark((function e(){var n,t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,m(null),S(!0),n=[],t=0;case 5:if(!(t<b)){e.next=15;break}return e.next=8,o.G.getTrending({language:P,page:t+1});case 8:if(s=e.sent){e.next=11;break}throw new Error("There is no fetched data.");case 11:n.push.apply(n,(0,a.Z)(s.results));case 12:t+=1,e.next=5;break;case 15:g((function(e){return 0===e.length?n:e.map((function(e){var t=n.find((function(n){return n.id===e.id}));return t||e}))})),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(0),console.log(e.t0),m("en-US"===P?"Something went wrong... Please, try again later.":"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443 \u043f\u0456\u0437\u043d\u0456\u0448\u0435.");case 23:return e.prev=23,S(!1),e.finish(23);case 26:case"end":return e.stop()}}),e,null,[[0,18,23,26]])})))).apply(this,arguments)}():function(){(n=n||(0,s.Z)((0,r.Z)().mark((function e(){var n,t,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(null),S(!0),e.next=5,o.G.getTrending({language:P,page:b});case 5:if(n=e.sent){e.next=8;break}throw new Error("There is no fetched data.");case 8:t=n.results,s=n.total_pages,g((function(e){var n=t.filter((function(n){return-1===e.map((function(e){return e.id})).indexOf(n.id)}));return[].concat((0,a.Z)(e),(0,a.Z)(n))})),E!==s&&F(E),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0),m("en-US"===P?"Something went wrong... Please, try again later.":"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a... \u0411\u0443\u0434\u044c \u043b\u0430\u0441\u043a\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0456\u0442\u044c \u0441\u043f\u0440\u043e\u0431\u0443 \u043f\u0456\u0437\u043d\u0456\u0448\u0435.");case 18:return e.prev=18,S(!1),U.current=!1,e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[0,13,18,22]])})))).apply(this,arguments)}()}),[P,b,E]);var G="en-US"===P?"Popular movies":"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0456 \u0444\u0456\u043b\u044c\u043c\u0438";return(0,p.jsx)("section",{className:f,children:(0,p.jsxs)(i.W2,{children:[(0,p.jsx)("h1",{className:h,children:G}),k&&(0,p.jsx)(i.$j,{}),x&&(0,p.jsx)(i.d2,{type:"error",message:x}),!x&&t.length>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.eW,{movies:t}),b!==E&&(0,p.jsx)(i.CF,{onLoadMore:function(){U.current=!0,y((function(e){return e+1}))},isLoading:k})]})]})})}}}]);
//# sourceMappingURL=299.b7e209de.chunk.js.map